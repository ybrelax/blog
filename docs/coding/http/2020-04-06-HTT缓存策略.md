---
category: 前端
tags:
  - http
date: 2020-04-06
title: HTTP缓存
---

合理利用缓存是我们对自己项目优化的重要手段。我们主要利用的有两种。

- 本地存储： LocalStorage、SessionStorage、cookie
- http 缓存：强缓存和协商缓存

这里主要来讲解下Http的缓存策略。
<!--more-->

## Http的缓存策略
> 

其中http的缓存策略又可以分为强制缓存和协商缓存，两种缓存机制都会将资源缓存到本地。

* **强制缓存** 策略是根据过期的时间来决定使用本地缓存还是请求资源。
* **协商缓存** 每次都会发出请求，经过服务器进行对比后决定采用本地缓存还是新资源。

### Expires 和 max-age

Expires 和 max-age 都是强制缓存的关键信息

* Expires 

 是Http1.0 加入的特性。通过指定一个明确的时间来作为缓存的过期时间。
 优点：可以在缓存过期时间内减少了http的请求，减少了服务器负载和网络资源的消耗

```sh
 Expires: Wed, 23 Aug 2020 20:00:00 GME
 ```
 上述信息表示缓存过期时间为2020/08/23 20:00:00

  缺点：它指的时间是以服务器为准的时间，但是客户端进行判断是用本地时间与该时间进行对比。

  举个例子, 如果服务器时间为 2020/08/23 20:00:00， 客户端为 2020/08/23 21:00:00，那么这样就会造成缓存数据不准确，服务器的数据已经失效了，但是客户端这里实际还是用了缓存数据。
